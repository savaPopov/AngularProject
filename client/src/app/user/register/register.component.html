<div class="background">
    <img src="assets/images/izobrajenie.png">
</div>
<app-header />

<div class="formContainer">
    <form [formGroup]="form" (ngSubmit)="register()">
        <h2>Register with your own account!</h2>

        <div class="field">
            <label for="email">Email</label>
            <input type="email" name="email" id="email" formControlName="email" placeholder="savaqk@gmail.com"
                [class]="isFieldTextMissing('email') || isEmailNotValid() ? 'input-error' : '' ">
        </div>

        @if(isFieldTextMissing('email')){
        <div>
            <p class="p-error">Email is required!</p>
        </div>
        }

        @if(isEmailNotValid()){
        <div>
            <p class="p-error">Email is not valid!</p>
        </div>
        }



        <div class="passGroup" formGroupName="passGroup">
            <div class="field">
                <label for="password">Password</label>
                <input type="password" name="password" id="password" required placeholder="******"
                    formControlName="password"
                    [class]="passGroupFieldMissing('password') || passGroupMinLength('password') ? 'input-error' : '' ">

            </div>

            @if(passGroupFieldMissing('password')){
            <div>
                <p class="p-error">
                    Password is required!
                </p>
            </div>
            }

            @if(passGroupMinLength('password')){
            <div>
                <p class="p-error"> Password must be at least 5 charachters long!</p>
            </div>
            }

            <div class="field">
                <label for="rePassword">Repeat Password</label>
                <input type="password" name="rePassword" id="rePassword" required placeholder="******"
                    formControlName="rePassword"
                    [class]="passGroupFieldMissing('rePass') || passGroup?.errors?.['matchPasswordsValidator']  ? 'input-error' : '' ">

            </div>

            @if(passGroupFieldMissing('rePass') || passGroup?.errors?.['matchPasswordsValidator'] ){
            <div>
                <p class="p-error"> Repeat Password Does not match password!</p>
            </div>
            }

        </div>

        <input type="submit" value="Get Started">
    </form>
</div>